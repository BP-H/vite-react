/* ===== base ===== */
:root{
  --panel:#0f1117; --panel2:#10131a; --text:#e9ecf1; --muted:#a1a7b3;
  --gap:6px; --stroke:#1c2130;
}
*{ box-sizing:border-box }
html,body,#root{ height:100% }
body{
  margin:0; color:var(--text);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
  background:
    radial-gradient(120% 100% at -20% -20%, rgba(255,75,208,.18), transparent 60%),
    linear-gradient(180deg,#0f1117,#10131a);
}
.apple-white-bg{ background:transparent !important; }
.bg-void canvas, .apple-white-bg > canvas { pointer-events:none !important; }

/* ===== feed layout ===== */
.feed-frame{ position:relative; z-index:1; display:flex; justify-content:flex-start; padding:0 0 80px; width:100%; }
.feed-col{ width:100%; display:flex; flex-direction:column; gap:12px; }
.post-card{ position:relative; background:transparent; }

/* edge-to-edge media (no rounding) */
.post-media{ position:relative; }
.post-media img, .post-media canvas{ width:100%; display:block; background:#0f1117; }
.post-media.tall img{ aspect-ratio:4/5; object-fit:cover; }

/* true background thin separators */
.thin-bg-line{ height:var(--gap); background:transparent; }

/* ===== head glass (top-left rectangle) ===== */
.head-glass{
  position:absolute; left:12px; top:12px; max-width:calc(100% - 24px);
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:10px 12px; border:1px solid rgba(255,255,255,.10);
  background: rgba(18,22,35,.55);
  backdrop-filter: blur(14px) saturate(150%);
  border-radius:12px;
}
.head-left{ display:flex; align-items:center; gap:10px; min-width:0; }
.pfp{ width:64px; height:64px; border-radius:999px; overflow:hidden; background:#0b1226; border:1px solid rgba(255,255,255,.12); }
.pfp img{ width:100%; height:100%; object-fit:cover; display:block; }
.pfp--small{ width:32px; height:32px; }
.pfp--tiny{ width:28px; height:28px; }
.meta{ display:flex; flex-direction:column; line-height:1.1 }
.handle{ font-weight:900; font-size:15px; text-shadow:0 2px 12px rgba(0,0,0,.45) }
.sub{ font-size:12px; color:#c5c9d6; opacity:.9 }
.title{ font-weight:800; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* ===== foot glass (actions + drawers) ===== */
.foot-glass{
  position:relative; padding:10px 10px; background: rgba(15,17,25,.55);
  backdrop-filter: blur(12px) saturate(140%); border-top:1px solid rgba(255,255,255,.08);
}
.actions-row{ display:flex; align-items:center; gap:18px; flex-wrap:nowrap; }

/* mini actions (icon-only) */
.miniact{
  display:inline-flex; align-items:center; justify-content:center;
  height:36px; width:44px; padding:0; border:0; background:transparent; color:#e9ecf1;
  cursor:pointer; opacity:.92; transition: opacity .15s, transform .1s, box-shadow .15s, color .15s;
  border-radius:12px;
}
.miniact:hover{ opacity:1; transform:translateY(-1px); box-shadow:inset 0 0 0 2px rgba(255,255,255,.10), 0 8px 20px rgba(0,0,0,.18); }
.avatar-act{ width:auto; padding:0 6px; gap:10px; }

/* drawers */
.drawer{
  overflow:hidden; max-height:0; opacity:.0; transform:translateY(-4px);
  transition: max-height .28s ease, opacity .2s ease, transform .2s ease;
}
.drawer.open{ max-height:260px; opacity:1; transform:translateY(0); margin-top:10px; }

/* drawer variants */
.menu-line{ display:flex; flex-wrap:wrap; gap:8px; }
.chip{
  height:34px; padding:0 12px; border-radius:999px; border:1px solid rgba(255,255,255,.14);
  background:#111423; color:#fff; font-weight:600; cursor:pointer;
}
.chip:hover{ border-color: rgba(255,75,208,.45); box-shadow:0 0 0 2px rgba(255,75,208,.18) inset; }
.chip.danger{ opacity:.8 }

.emoji-grid{
  display:grid; grid-template-columns: repeat(12, 1fr); gap:6px; padding:2px;
  max-height:220px; overflow:auto;
}
.emoji{
  font-size:22px; line-height:34px; height:34px; width:34px; text-align:center;
  border-radius:10px; border:1px solid rgba(255,255,255,.10); background:#131725; cursor:pointer;
}
.emoji:hover{ box-shadow: inset 0 0 0 2px rgba(255,255,255,.12); }

.comment-row{ display:flex; align-items:center; gap:8px; }
.comment-input{
  flex:1; height:38px; border-radius:10px; border:1px solid rgba(255,255,255,.12);
  background:#0f1422; color:#fff; padding:0 10px;
}
.send{
  height:38px; padding:0 12px; border-radius:10px; border:1px solid rgba(255,255,255,.14); background:#111423; color:#fff; font-weight:700; cursor:pointer;
}
.send:hover{ box-shadow: inset 0 0 0 2px rgba(255,255,255,.12); }

.portal-line{ display:flex; justify-content:flex-start; }
.enter-btn{
  height:38px; padding:0 14px; border-radius:999px; border:1px solid rgba(255,255,255,.14);
  background:#121828; color:#fff; font-weight:800; cursor:pointer;
}
.enter-btn:hover{ box-shadow:0 0 0 2px rgba(106,115,255,.25) inset; }

/* a11y */
.sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* ===== assistant orb (kept from your last good version) ===== */
.assistant-orb{
  position:fixed; z-index:9998; width:56px; height:56px; border-radius:999px;
  border:1px solid rgba(255,255,255,.15);
  background:radial-gradient(120% 120% at 30% 30%, #6a73ff, #a855f7 60%, #0ea5e9 100%);
  box-shadow:0 12px 40px rgba(82,97,255,.35), inset 0 1px 0 rgba(255,255,255,.5);
  transform:translate(-50%,-50%);
  transition:left .6s cubic-bezier(.22,.61,.36,1), top .6s cubic-bezier(.22,.61,.36,1), filter .2s;
  display:grid; place-items:center; cursor:pointer;
}
.assistant-orb:hover{ box-shadow:0 14px 44px rgba(82,97,255,.5), inset 0 1px 0 rgba(255,255,255,.7); }
.assistant-orb.mic{ filter:drop-shadow(0 0 18px rgba(106,115,255,.6)); }
.assistant-orb.flying{ pointer-events:none; filter:saturate(150%); }
.assistant-orb__core{ width:26px; height:26px; border-radius:50%; background:radial-gradient(circle at 30% 30%, #fff, #8a90ff 60%, #5b63ff); box-shadow:inset 0 0 30px rgba(255,255,255,.45); filter:blur(.2px); }
.assistant-orb__ring{ position:absolute; width:64px; height:64px; border-radius:999px; box-shadow:0 0 0 6px rgba(106,115,255,.12); }
.assistant-orb.mic .assistant-orb__ring{ animation: ping 1.4s ease-out infinite; }
@keyframes ping{ 0%{ box-shadow:0 0 0 0 rgba(106,115,255,.25);} 100%{ box-shadow:0 0 0 28px rgba(106,115,255,0);} }
.assistant-orb__toast{
  position:absolute; bottom:70px; left:50%; transform:translateX(-50%);
  white-space:nowrap; padding:6px 8px; border-radius:8px; background:rgba(0,0,0,.65); color:#fff; font-size:12px; box-shadow:0 8px 20px rgba(0,0,0,.25); pointer-events:none;
}